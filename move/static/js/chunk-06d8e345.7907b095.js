(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-06d8e345"],{"26cb":function(t,e,s){},"440d":function(t,e,s){t.exports=s.p+"static/img/logo2.7f11aeb9.png"},"6d14":function(t,e,s){"use strict";var a=s("26cb");s.n(a).a},"80c1":function(t,e,s){"use strict";s.r(e);var a=s("5530"),i=s("613e"),n=s("5880"),o={name:"CommonLayout",components:{PageFooter:i.a},computed:Object(a.a)({},Object(n.mapState)("setting",["footerLinks","copyright"]))},c=(s("6d14"),s("0c7c")),r=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common-layout"},[e("div",{staticClass:"content"},[this._t("default")],2),e("page-footer",{attrs:{"link-list":this.footerLinks,copyright:this.copyright}})],1)}),[],!1,null,"1c265f57",null).exports,u=s("93d6"),l=s("b775"),m=s("89a5"),d=s("ee7d"),g={name:"Login",components:{CommonLayout:r},data:function(){return{logging:!1,error:"",form:this.$form.createForm(this),ptList:[{name:"抖店",img:"https://ypzj-oss.oss-cn-zhangjiakou.aliyuncs.com/jifengou/20201125142154CMJ7r5RSNj2K5YMp6HaH.png",index:1},{name:"快手",img:"https://ypzj-oss.oss-cn-zhangjiakou.aliyuncs.com/jifengou/20201127194634fwRPYHeMdRHMN4fMty53.png",index:3},{name:"拼多多",img:"https://ypzj-oss.oss-cn-zhangjiakou.aliyuncs.com/jifengou/20201127194637AwhZAaN3EH5iRNMKbdzc.png",index:5}]}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(a.a)(Object(a.a)({},Object(n.mapMutations)("account",["setUser","setPermissions","setRoles"])),{},{onSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t){if(!t){e.logging=!0;var s=e.form.getFieldValue("name"),a=e.form.getFieldValue("password");Object(u.b)(s,a).then(e.afterLogin)}}))},afterLogin:function(t){var e=this;this.logging=!1;var s=t.data;if(s.code>=0){var a=s.data,i=a.user,n=a.permissions,o=a.roles;this.setUser(i),this.setPermissions(n),this.setRoles(o),Object(l.g)({token:s.data.token,expireAt:new Date(s.data.expireAt)}),Object(u.a)().then((function(t){var a=t.data.data;Object(m.d)(a),e.$router.push("move/moving"),e.$message.success(s.message,3)}))}else this.error=s.message},goto:function(t){Object(d.b)({type:t}).then((function(t){location.href=t.data.data.url}))}})},f=(s("89bd"),Object(c.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("common-layout",[a("div",{staticClass:"top"},[a("div",{staticClass:"header"},[a("img",{staticClass:"logo",attrs:{alt:"logo",src:s("440d")}}),a("span",{staticClass:"title"},[t._v(t._s(t.systemName))])]),a("div",{staticClass:"desc"},[t._v("第三方登录")])]),a("div",{staticClass:"login"},[a("div",{staticClass:"thirdParty"},t._l(t.ptList,(function(e){return a("div",{key:e.index,staticClass:"t-item",on:{click:function(s){return t.goto(e.index)}}},[a("img",{staticClass:"img-icon",attrs:{src:e.img,title:e.name,alt:"logo"}}),t._v(" "+t._s(e.name)+" ")])})),0)])])}),[],!1,null,"df41401c",null).exports);e.default=f},"89bd":function(t,e,s){"use strict";var a=s("9ceb");s.n(a).a},"9ceb":function(t,e,s){}}]);
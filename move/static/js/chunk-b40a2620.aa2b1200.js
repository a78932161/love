(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b40a2620"],{"156b":function(t,e,n){"use strict";var i=n("6fad"),r=n.n(i),a=(n("ee7d"),{data:function(){return{editor:null,info_:null}},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},isClear:{type:Boolean,default:!1}},watch:{isClear:function(t){t&&(this.editor.txt.clear(),this.info_=null)},value:function(t){t!==this.editor.txt.html()&&(this.editor.txt.html(this.value),this.editor.disable())}},mounted:function(){this.seteditor(),this.editor.txt.html(this.value)},methods:{seteditor:function(){var t=this;this.editor=new r.a(this.$refs.toolbar,this.$refs.editor),this.editor.config.height=500,this.editor.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo","fullscreen"],this.editor.config.customUploadImg=function(t,e){},this.debounce(this.editor.config.onchange=function(e){t.info_=e,t.$emit("change",t.info_)},1),this.editor.create()},debounce:function(t,e){var n=null;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=this;n&&clearTimeout(n),n=setTimeout((function(){t.apply(o,r)}),e)}}},beforeDestroy:function(){this.editor.destroy(),this.editor=null}}),o=(n("4189"),n("0c7c")),s=Object(o.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"editor"},[e("div",{ref:"toolbar",staticClass:"toolbar"}),e("div",{ref:"editor",staticClass:"text"})])}),[],!1,null,"40d32429",null);e.a=s.exports},2738:function(t,e,n){},4189:function(t,e,n){"use strict";var i=n("2738");n.n(i).a},5920:function(t,e,n){"use strict";var i=n("977f");n.n(i).a},"977f":function(t,e,n){},c40e:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h}));var i=n("b775");function r(){return Object(i.c)({url:"/move/catch-queue",method:"get"})}function a(t){return Object(i.c)({url:"/move/uploaded",method:"get",params:t})}function o(t){return Object(i.c)({url:"/move/cat",method:"get",params:t})}function s(t){return Object(i.c)({url:"/move/cat-new",method:"get",params:t})}function u(t){return Object(i.c)({url:"/move/ups",method:"post",data:t})}function c(t){return Object(i.c)({url:"/move/catch",method:"post",data:t})}function l(t){return Object(i.c)({url:"/move/bj-dd-goods",method:"get",params:t})}function d(t){return Object(i.c)({url:"/move/sync-all-goods",method:"get",params:t})}function f(t){return Object(i.c)({url:"/move/delete-catch-goods",method:"post",data:t})}function h(t){return Object(i.c)({url:"/move/clone-goods",method:"post",data:t})}},d456:function(t,e,n){"use strict";n("99af"),n("4160"),n("c975"),n("d81d"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("d3b7"),n("159b"),n("96cf");var i=n("1da1"),r=n("ee7d"),a=n("cebe"),o=n.n(a);function s(t){return new Promise((function(e,n){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return e(i.result)},i.onerror=function(t){return n(t)}}))}var u={data:function(){return{previewVisible:!1,previewImage:"",fileList:[],upList:{}}},props:{max:{type:Number,default:1},name:{type:String,default:""},handheld:{type:Boolean,default:!1},list:{type:[Array,String],default:function(){return[]}}},model:{prop:"list",event:"change"},mounted:function(){},methods:{handheldShow:function(){this.previewImage="https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",this.previewVisible=!0},handleCancel:function(){this.previewVisible=!1},handlePreview:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.url||t.preview){n.next=4;break}return n.next=3,s(t.originFileObj);case 3:t.preview=n.sent;case 4:e.previewImage=t.url||t.preview,e.previewVisible=!0;case 6:case"end":return n.stop()}}),n)})))()},handleRemove:function(t){var e=this.fileList.indexOf(t),n=this.fileList.slice();n.splice(e,1),this.fileList=n;var i=n.map((function(t){return t.url}));this.$emit("change",i)},getImg:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;e||this.$message.error("You can only upload JPG file!");var n=t.size/1024/1024<2;return n||this.$message.error("Image must smaller than 2MB!"),this.upList=t,e&&n},upImg:function(){var t=this;Object(r.a)({dir:"test"}).then((function(e){if(0===e.data.code){var n=e.data.data,i=n.host,r=n.accessid,a=n.policy,s=n.signature,u=n.dir,c=new FormData;c.append("OSSAccessKeyId",r),c.append("key","".concat(u).concat(t.upList.name)),c.append("policy",a),c.append("signature",s),c.append("name",t.upList.name),c.append("success_action_status","200"),c.append("file",t.upList),o()({url:i,header:{"Content-Type":"multipart/form-data"},method:"post",data:c}).then((function(e){t.fileList.push({uid:t.upList.uid,name:t.upList.name,url:"".concat(i,"/").concat(u).concat(t.upList.name)});var n=t.fileList.map((function(t){return t.url}));t.$emit("change",n)}))}else t.$message.error(JSON.stringify(e.data))}))},changeList:function(){var t=this.list;Array.isArray(t)||t&&this.fileList.push({uid:"-1",name:t,url:t})}},watch:{list:function(t){var e=this;this.fileList=[],t.forEach((function(t,n){e.fileList.push({uid:"-".concat(n),name:t,url:t})}))}}},c=(n("5920"),n("0c7c")),l=Object(c.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"imgUpload"},[n("a-upload",{attrs:{"list-type":"picture-card","file-list":t.fileList,remove:t.handleRemove,"before-upload":t.getImg,customRequest:t.upImg},on:{preview:t.handlePreview}},[t.fileList.length<t.max?n("div",[n("a-icon",{attrs:{type:"plus"}}),n("div",{staticClass:"ant-upload-text"},[t._v(" "+t._s(t.name)+" ")])],1):t._e()]),t.handheld?n("div",{staticClass:"imgUpload-case"},[n("span",[t._v("示例 :")]),n("div",{staticClass:"img"},[n("div",[n("a-button",{attrs:{type:"link"},on:{click:t.handheldShow}},[t._v(" 查看大图 ")])],1)]),t._m(0)]):t._e(),n("div",{staticClass:"imgUpload-ts"},[t._t("default")],2),n("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("[请上传"),e("em",[this._v("3M以内")]),this._v("的照片]")])}],!1,null,"1ac155d1",null);e.a=l.exports}}]);